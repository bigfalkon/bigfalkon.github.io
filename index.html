<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karakter Galerisi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Uncial+Antiqua&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c;
            color: #e2e8f0;
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #2d3748; border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: #4a5568; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #6a7280; cursor: pointer; }

        .modal-backdrop {
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .enlarged-image-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000; cursor: zoom-out;
        }
        .enlarged-image {
            max-width: 90%; max-height: 90%;
            object-fit: contain; border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }

        h1.main-title {
            font-family: 'Cinzel Decorative', cursive;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        #modal-character-name, #modal-fusion-name {
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .font-fusion {
            font-family: 'Uncial Antiqua', cursive;
            text-shadow: 1px 1px 3px rgba(167, 139, 250, 0.4);
        }
        
        #zoom-out-btn:disabled, #zoom-in-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .glow-purple {
            box-shadow: 
                0 0 8px rgba(167, 139, 250, 0.6),
                0 0 20px rgba(167, 139, 250, 0.4),
                0 0 40px rgba(167, 139, 250, 0.2);
        }
        
        @keyframes text-pulse-glow {
            0% { filter: drop-shadow(0 0 5px rgba(167, 139, 250, 0.8)); }
            50% { filter: drop-shadow(0 0 12px rgba(167, 139, 250, 1.0)) drop-shadow(0 0 20px rgba(167, 139, 250, 0.6)); }
            100% { filter: drop-shadow(0 0 5px rgba(167, 139, 250, 0.8)); }
        }

        .glow-text-purple-animated {
            animation: text-pulse-glow 1.5s infinite alternate;
        }

        .fusion-modal-background-glow {
            box-shadow: 
                inset 0 0 20px rgba(167, 139, 250, 0.3),
                0 0 25px rgba(167, 139, 250, 0.5),
                0 0 50px rgba(167, 139, 250, 0.2);
            background: radial-gradient(circle at center, rgba(167, 139, 250, 0.1) 0%, rgba(94, 234, 212, 0.05) 50%, rgba(68, 76, 94, 0) 100%), 
                        linear-gradient(135deg, #5a2a7a 0%, #3a1a4a 100%);
        }

        #character-grid {
            display: grid;
            gap: 1.5rem;
            grid-template-columns: repeat(auto-fit, minmax(var(--grid-min-card-width), var(--grid-max-card-width)));
            justify-content: center;
        }

        /* Arama sonuÃ§larÄ± gridi artÄ±k kendi stiline sahip */
        #search-results-grid {
            display: grid;
            gap: 1rem;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        }


        .character-card-image {
            width: 100%;
            height: auto;
            max-height: 100%;
            object-fit: contain;
        }

        .character-name-ellipsis {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .modal-nav-button {
            /* DEÄÄ°ÅÄ°KLÄ°K: Modal Navigasyon ButonlarÄ± KÃ¼Ã§Ã¼ltÃ¼ldÃ¼ */
            @apply px-3 py-1.5 rounded-full text-base font-semibold transition-all duration-300 ease-in-out;
            @apply bg-gray-600 text-gray-200 shadow-md hover:bg-gray-500;
        }
        .modal-nav-button:disabled {
            @apply opacity-50 cursor-not-allowed;
        }

        .modal-nav-text {
            /* DEÄÄ°ÅÄ°KLÄ°K: Modal Navigasyon YazÄ±larÄ± KÃ¼Ã§Ã¼ltÃ¼ldÃ¼ */
            @apply text-gray-300 text-sm whitespace-nowrap overflow-hidden text-overflow-ellipsis max-w-[100px] md:max-w-[150px];
        }

    </style>
</head>
<body class="p-4 md:p-8">
    <div id="app" class="max-w-7xl mx-auto bg-gray-800 rounded-xl shadow-lg p-6 md:p-8 relative">
        
        <div class="flex justify-between items-center mb-8 flex-wrap">
            <h1 class="text-4xl font-extrabold text-center text-indigo-400 main-title mb-4 sm:mb-0">Karakter Galerisi</h1>
        </div>

        <div class="flex flex-wrap justify-center items-center gap-2 md:gap-4 mb-8">
            <button id="show-1-star-btn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-gray-700 text-gray-200 shadow-md hover:bg-gray-600">
                <span class="text-orange-400">â˜…</span>
            </button>
            <button id="show-2-star-btn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-gray-700 text-gray-200 shadow-md hover:bg-gray-600">
                <span class="text-gray-400">â˜…â˜…</span>
            </button>
            <button id="show-3-star-btn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-gray-700 text-gray-200 shadow-md hover:bg-gray-600">
                <span class="text-yellow-400">â˜…â˜…â˜…</span>
            </button>
            <button id="show-fusion-btn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-gray-700 text-gray-200 shadow-md hover:bg-gray-600">
                <span class="text-purple-400">â˜…â˜…â˜…â˜…</span>
            </button>
            <button id="show-all-btn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-indigo-600 text-white shadow-md hover:bg-indigo-700">
                TÃ¼m Karakterler
            </button>

            <button id="open-search-modal-btn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-gray-700 text-gray-200 shadow-md hover:bg-gray-600" aria-label="Arama Yap">
                Arama ğŸ”
            </button>
            <button id="fitToScreenToggleBtn" class="px-3 py-2 md:px-5 md:py-2 rounded-full text-sm md:text-lg font-semibold transition-all duration-300 ease-in-out bg-gray-700 text-gray-200 shadow-md hover:bg-gray-600" aria-label="Daha Fazla Karakter GÃ¶ster / Normal Mod">
                SÄ±ÄŸdÄ±r â†”
            </button>
            
            <div class="flex items-center rounded-full shadow-md bg-gray-700 overflow-hidden">
                <button id="zoom-out-btn" class="px-4 py-2 text-lg font-semibold text-white transition-colors duration-200 hover:bg-gray-600" aria-label="Galeri KartlarÄ±nÄ± KÃ¼Ã§Ã¼lt">â€“</button>
                <span id="current-size-label" class="px-4 py-2 text-lg font-bold bg-gray-800 text-indigo-400" aria-live="polite">4</span>
                <button id="zoom-in-btn" class="px-4 py-2 text-lg font-semibold text-white transition-colors duration-200 hover:bg-gray-600" aria-label="Galeri KartlarÄ±nÄ± BÃ¼yÃ¼t">+</button>
            </div>
            
            <div id="columns-slider-container" class="mt-2 w-full hidden"> 
                <label for="column-count-slider" class="block text-gray-200 font-medium mb-1 text-center text-sm">Yan Yana SÄ±ÄŸacak Kart: <span id="column-count-value">4</span></label>
                <input type="range" id="column-count-slider" min="2" max="6" value="4" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer">
            </div>
            
        </div>

        <div id="character-grid"></div>

        <div id="character-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden flex items-center justify-center p-4 z-50 overflow-y-auto" onclick="closeCharacterModal()">
           <div class="bg-gray-700 rounded-xl shadow-2xl p-6 w-full h-full transform transition-all duration-300 ease-out scale-95 opacity-0 overflow-y-auto flex flex-col" id="character-modal-content" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4 flex-shrink-0">
                    <h2 id="modal-character-name" class="text-2xl font-bold text-indigo-400 text-center flex-grow mx-2"></h2>
                    <button class="text-gray-400 hover:text-gray-200 text-3xl font-light" onclick="closeCharacterModal()" aria-label="Karakter DetaylarÄ±nÄ± Kapat">&times;</button>
                </div>
                
                <div class="flex-grow overflow-y-auto pr-2">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="flex flex-col col-span-full">
                            <h3 class="text-xl font-semibold text-indigo-400 border-b pb-2 mb-2">AÃ§Ä±klama:</h3>
                            <p id="modal-character-description" class="text-gray-200 mb-4"></p>
                        </div>
                        <div id="modal-evolutions" class="col-span-full flex flex-wrap justify-center gap-4 mb-6"></div>
                    </div>
                    <div id="modal-fusions" class="mt-6">
                        <h3 class="text-xl font-semibold text-indigo-400 border-b pb-2 mb-4">KatÄ±ldÄ±ÄŸÄ± FÃ¼zyonlar:</h3>
                        <div id="fusion-list" class="grid grid-cols-2 sm:grid-cols-3 gap-4"></div>
                    </div>
                </div>

                <div class="flex justify-between items-center mt-4 pt-3 border-t border-gray-600 flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <button id="prev-char-btn" class="modal-nav-button text-lg" aria-label="Ã–nceki Karakter">&#8592;</button>
                        <span id="prev-char-name" class="modal-nav-text"></span>
                    </div>
                    <div class="flex items-center space-x-2 justify-end">
                        <span id="next-char-name" class="modal-nav-text text-right"></span>
                        <button id="next-char-btn" class="modal-nav-button text-lg" aria-label="Sonraki Karakter">&#8594;</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="fusion-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden flex items-center justify-center p-4 z-50 overflow-y-auto" onclick="closeFusionModal()">
            <div class="bg-gray-700 rounded-xl shadow-2xl p-6 w-full h-full transform transition-all duration-300 ease-out scale-95 opacity-0 overflow-y-auto flex flex-col" id="fusion-modal-content" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4 flex-shrink-0">
                    <h2 id="modal-fusion-name" class="text-2xl font-bold text-indigo-400 text-center flex-grow mx-2"></h2>
                    <button class="text-gray-400 hover:text-gray-200 text-3xl font-light" onclick="closeFusionModal()" aria-label="FÃ¼zyon DetaylarÄ±nÄ± Kapat">&times;</button>
                </div>
                
                <div class="flex-grow overflow-y-auto pr-2">
                    <h3 class="text-xl font-semibold text-indigo-400 border-b pb-2 mb-2">AÃ§Ä±klama:</h3>
                    <p id="modal-fusion-description" class="text-gray-200 mb-6"></p>
                    <div class="flex flex-col md:flex-row items-center justify-center gap-6 mb-6">
                        <div class="flex flex-col items-center text-center cursor-pointer p-2 rounded-lg hover:bg-gray-600 transition duration-200" data-character-id="" onclick="closeFusionModal(); openCharacterModal(this.dataset.characterId);">
                            <img id="modal-fusion-left-char-image" src="" alt="Sol Karakter" class="object-contain rounded-lg border-4 border-indigo-500 shadow-md">
                            <p id="modal-fusion-left-char-name" class="mt-2 text-lg font-semibold text-gray-200"></p>
                            <p class="text-lg font-medium text-gray-200" id="modal-fusion-left-char-star"></p>
                        </div>
                        <div id="modal-fusion-image-container" class="flex flex-col items-center">
                            <img id="modal-fusion-image" src="" alt="FÃ¼zyon Resmi" class="w-full h-auto object-contain rounded-lg shadow-md cursor-zoom-in" onclick="enlargeImage(this.src)">
                            <p id="modal-fusion-star" class="text-xl font-semibold text-gray-200 mt-2"></p>
                        </div>
                        <div class="flex flex-col items-center text-center cursor-pointer p-2 rounded-lg hover:bg-gray-600 transition duration-200" data-character-id="" onclick="closeFusionModal(); openCharacterModal(this.dataset.characterId);">
                            <img id="modal-fusion-right-char-image" src="" alt="SaÄŸ Karakter" class="object-contain rounded-lg border-4 border-indigo-500 shadow-md">
                            <p id="modal-fusion-right-char-name" class="mt-2 text-lg font-semibold text-gray-200"></p>
                            <p class="text-lg font-medium text-gray-200" id="modal-fusion-right-char-star"></p>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between items-center mt-4 pt-3 border-t border-gray-600 flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <button id="prev-fusion-btn" class="modal-nav-button text-lg" aria-label="Ã–nceki FÃ¼zyon">&#8592;</button>
                        <span id="prev-fusion-name" class="modal-nav-text"></span>
                    </div>
                    <div class="flex items-center space-x-2 justify-end">
                        <span id="next-fusion-name" class="modal-nav-text text-right"></span>
                        <button id="next-fusion-btn" class="modal-nav-button text-lg" aria-label="Sonraki FÃ¼zyon">&#8594;</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="search-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden flex items-center justify-center p-4 z-50 overflow-y-auto" onclick="closeSearchModal()">
            <div class="bg-gray-700 rounded-xl shadow-2xl p-6 w-full h-full transform transition-all duration-300 ease-out scale-95 opacity-0 overflow-y-auto flex flex-col" id="search-modal-content" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4 flex-shrink-0">
                    <h2 class="text-2xl font-bold text-indigo-400 text-center flex-grow mx-2">Arama</h2>
                    <button class="text-gray-400 hover:text-gray-200 text-3xl font-light" onclick="closeSearchModal()" aria-label="Arama Penceresini Kapat">&times;</button>
                </div>
                 <div class="mb-4 flex-shrink-0">
                    <input type="text" id="search-input" placeholder="Karakter adÄ± veya ID'si girin..." class="w-full px-4 py-3 bg-gray-800 text-gray-200 border-2 border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 transition duration-200">
                </div>
                <div class="flex-grow overflow-y-auto pr-2">
                    <div id="search-results-grid">
                        </div>
                </div>
            </div>
        </div>


        <div id="enlarged-image-overlay" class="enlarged-image-container hidden" onclick="closeEnlargedImage()">
            <button class="absolute top-4 right-4 text-gray-200 hover:text-white text-5xl font-light z-10" onclick="closeEnlargedImage(event)" aria-label="Resmi Kapat">&times;</button>
            <img id="enlarged-image" src="" alt="BÃ¼yÃ¼k Resim" class="enlarged-image">
        </div>

    </div>
    
    <button id="back-to-top-btn" class="fixed bottom-5 right-5 bg-indigo-600 text-white rounded-full p-3 shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 transition-opacity opacity-0 z-40" aria-label="YukarÄ± Ã‡Ä±k">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" /></svg>
    </button>


    <script>
        const FUSION_BACKGROUND_COLOR = '#5a2a7a'; 
        const FUSION_STAR_COLOR_CLASS = 'text-purple-400'; 
        const THREE_STAR_COLOR_CLASS = 'text-yellow-400'; 

        const characters = [
            // SADECE TEMEL KARAKTERLER (IDleri artÄ±k sayÄ±sÄ±z)
            { id: 'buyucu', name: 'BÃ¼yÃ¼cÃ¼', description: 'GÃ¼Ã§lÃ¼ bÃ¼yÃ¼leriyle Ã¶ne Ã§Ä±kan bu sarÄ±ÅŸÄ±n bÃ¼yÃ¼cÃ¼, zarif ve cÃ¼retkar kÄ±yafetleriyle dikkat Ã§ekerken, mistik pembe bÃ¼yÃ¼lerle dÃ¼ÅŸmanlarÄ±na korku salar.', star: 1, imageUrl: 'https://i.ibb.co/WW3DSjgT/b-y-c-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/xK0j21XT/b-y-c-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/rKjQfVWR/b-y-c-3.jpg' }] },
            { id: 'rahibe', name: 'Rahibe', description: 'Kutsal iyileÅŸtirme gÃ¼Ã§lerine sahip bu kahverengi saÃ§lÄ± rahibe, hem nezaketi hem de gÃ¼Ã§lÃ¼ duruÅŸuyla ibadet ettiÄŸi mabetlerde ilahi Ä±ÅŸÄ±k saÃ§ar.', star: 1, imageUrl: 'https://i.ibb.co/PZg5t9VL/rahibe1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/FLxK9MVn/rahibe2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/FLtj64kw/rahibe3.jpg' }] },
            { id: 'dansoz', name: 'DansÃ¶z', description: 'EsnekliÄŸi ve cazibesiyle bÃ¼yÃ¼leyen bu siyahi dansÃ§Ä±, altÄ±n aksesuarlarla sÃ¼slÃ¼ ÅŸeffaf kÄ±yafetleriyle sahneyi aydÄ±nlatÄ±rken izleyicileri kendine hayran bÄ±rakÄ±r.', star: 1, imageUrl: 'https://i.ibb.co/vxC47N0c/dans-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/qMKfjQ6H/dans-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/8gwWTnW1/dans-3.jpg' }] },
            { id: 'falci', name: 'FalcÄ±', description: 'Gizemli gÃ¼Ã§lere sahip bu koyu tenli falcÄ±, mor saÃ§larÄ± ve parlayan kristal topuyla geleceÄŸe dair sÄ±rlar fÄ±sÄ±ldar.', star: 1, imageUrl: 'https://i.ibb.co/ynpvZp1L/falc-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/ZRCkv6Sw/falc-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/1YSLR43x/falc-3.jpg' }] },
            { id: 'korsan', name: 'Korsan', description: 'Denizlerin vahÅŸi ruhunu taÅŸÄ±yan bu kÄ±zÄ±l saÃ§lÄ± kadÄ±n korsan, tehlikeli maceralara atÄ±lÄ±rken gÃ¶zÃ¼ kara ve baÅŸtan Ã§Ä±karÄ±cÄ± bir tavÄ±r sergiler.', star: 1, imageUrl: 'https://i.ibb.co/CpVChGPv/korsan1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/SwLyG1tQ/korsan2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/Q3QCJ7fP/korsan3.jpg' }] },
            { id: 'savasci', name: 'SavaÅŸÃ§Ä±', description: 'SÄ±cak ten rengine sahip bu kahverengi saÃ§lÄ± savaÅŸÃ§Ä±, atletik ve gÃ¶steriÅŸli vÃ¼cudunu vurgulayan zÄ±rhÄ±yla meydan okurcasÄ±na durur.', star: 1, imageUrl: 'https://i.ibb.co/GQ58h73N/sava-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/tP3dHwqh/sava-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/YF2mpmks/sava-3.jpg' }] },
            { id: 'okcu', name: 'OkÃ§u', description: 'Hafif zeytin tenli ve kestane rengi saÃ§lÄ± bu genÃ§ okÃ§u, keskin niÅŸancÄ±lÄ±ÄŸÄ± ve Ã§ekici duruÅŸuyla hedeflerini gÃ¶zÃ¼ne kestirir.', star: 1, imageUrl: 'https://i.ibb.co/7t5Pgxr0/ok-u1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/Kcx424sg/ok-u2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/tTvN7j1H/ok-u3.jpg' }] },
            { id: 'ninja', name: 'Ninja', description: 'Gizemli ve Ã¶lÃ¼mcÃ¼l Japon ninjasÄ±, zarif hareketleri ve baÅŸtan Ã§Ä±karÄ±cÄ± duruÅŸuyla gÃ¶lgelerin arasÄ±ndan sÃ¼zÃ¼lÃ¼r.', star: 1, imageUrl: 'https://i.ibb.co/TJ4z4RP/ninja1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/SDrwNJrh/ninja2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/YBDCkTL9/ninja3.jpg' }] },
            { id: 'izci', name: 'Ä°zci', description: 'GÃ¶zlÃ¼kleriyle bilinen, zeki ve maceraperest bu kÄ±zÄ±l saÃ§lÄ± izci, hem pratik bilgisi hem de Ã§ekici duruÅŸuyla keÅŸiflere liderlik eder.', star: 1, imageUrl: 'https://i.ibb.co/4wvy0p7H/izci1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/B57pqBm4/izci2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/Xr6wnQjC/izci3.jpg' }] },
            { id: 'hayalet', name: 'Hayalet', description: 'Esrarengiz ve yarÄ± saydam bu kadÄ±n hayalet, melankolik duruÅŸu ve etrafÄ±ndaki sisli aura ile huzursuz bir gÃ¼zellik taÅŸÄ±r.', star: 1, imageUrl: 'https://i.ibb.co/rfKR25Vm/hayalet1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/21VC2dPt/hayalet2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/YFR2Rw0K/hayalet3.jpg' }] },
            { id: 'atesbuyucusu', name: 'AteÅŸ BÃ¼yÃ¼cÃ¼sÃ¼', description: 'AteÅŸten saÃ§lara ve parlayan kÄ±zÄ±l gÃ¶zlere sahip bu bÃ¼yÃ¼cÃ¼, alevleri ustaca kontrol ederken Ã¶zgÃ¼venli ve buyurgan bir tavÄ±r sergiler.', star: 1, imageUrl: 'https://i.ibb.co/1GBHw5gc/ate-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/xtVWHqq4/ate-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/8gV8fSrh/ate-3.jpg' }] },
            { id: 'buzbuyucusu', name: 'Buz BÃ¼yÃ¼cÃ¼sÃ¼', description: 'Platin beyazÄ± saÃ§lÄ± bu utangaÃ§ buz bÃ¼yÃ¼cÃ¼sÃ¼, nazik ve mesafeli tavrÄ±yla bÃ¼yÃ¼leyici aurora renkleriyle dolu buz bÃ¼yÃ¼leri yapar.', star: 1, imageUrl: 'https://i.ibb.co/M4WT53b/buz1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/yzqR3jM/buz2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/zW97htBN/buz3.jpg' }] },
            { id: 'silahsor', name: 'SilahÅŸÃ¶r', description: 'Cesur ve zeki bu silahÅŸÃ¶r, ÅŸÄ±k Ã¼niformasÄ± ve keskin bakÄ±ÅŸlarÄ±yla her daim maceraya hazÄ±r, zarif kÄ±lÄ±cÄ± ve tabancasÄ±yla adaletin peÅŸinde.', star: 1, imageUrl: 'https://i.ibb.co/ZpDDqkPP/indir-2.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/5WcQs9Nq/indir-3.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/SXFr056v/indir-4.jpg' }] },
            { id: 'cazibe', name: 'Cazibe', description: 'Ã–lÃ¼mlÃ¼lerin arzularÄ±ndan doÄŸan Cazibe, fÄ±sÄ±ltÄ±yla aklÄ±nÄ± Ã§eler ve seni kendi tatlÄ± gÃ¼nahlarÄ±nÄ±n esiri yapar.', star: 1, imageUrl: 'https://i.ibb.co/yBQBGL5Y/cazibe1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/k2hXkSKV/cazibe2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/xSxMwnz5/cazibe3.jpg' }] },
            { id: 'ormanruhu', name: 'Orman Ruhu', description: 'Masum bir orman fidanÄ± olarak doÄŸdu, zamanla hem hayat veren hem de can alan, doÄŸanÄ±n vahÅŸi kraliÃ§esine dÃ¶nÃ¼ÅŸtÃ¼.', star: 1, imageUrl: 'https://i.ibb.co/RkZfXFWX/do-a.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/XZxytsM4/do-a2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/8DSbGRzR/do-a3.jpg' }] },
            { id: 'sahinci', name: 'Åahinci', description: 'GÃ¶kyÃ¼zÃ¼nÃ¼n yalnÄ±z avcÄ±sÄ±, doÄŸayla bÃ¼tÃ¼nleÅŸmiÅŸ, keskin gÃ¶zleri ve sadÄ±k ÅŸahiniyle Ã¶zgÃ¼rlÃ¼ÄŸÃ¼n sembolÃ¼.', star: 1, imageUrl: 'https://i.ibb.co/pBSb9vVZ/ahin1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/JjmhzkBM/ahin2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/Vptx2S9p/ahin3.jpg' }] },
            { id: 'illuzyonist', name: 'Ä°llÃ¼zyonist', description: 'GÃ¶lgelerin sÄ±rlarÄ±nÄ± bilen, illÃ¼zyonlarla gerÃ§eÄŸi bÃ¼ken, gizemli ve gÃ¼Ã§lÃ¼ bir gÃ¶lge rahibesi.', star: 1, imageUrl: 'https://i.ibb.co/C5Lr8DDV/ill-zyon1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/fVtZpN8s/ill-zyon2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/VYSz0PYK/ill-zyon3.jpg' }] },
            { id: 'dervis', name: 'DerviÅŸ', description: 'Ã‡Ã¶lÃ¼n sessiz fÄ±rtÄ±nasÄ±, kadim kumlarÄ±n ve rÃ¼zgarlarÄ±n dansÄ±nÄ± Ã¶lÃ¼mcÃ¼l bir sanata dÃ¶nÃ¼ÅŸtÃ¼ren, melankolik ve kararlÄ± bir savaÅŸÃ§Ä±.', star: 1, imageUrl: 'https://i.ibb.co/dsZRZzpt/dervi-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/zT3tm8sz/dervi-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/qMv1jB15/dervi-3.jpg' }] },
            { id: 'prenses', name: 'Prenses', description: 'SarayÄ±nÄ±n altÄ±n kafesine hapsolmuÅŸ, kibirli bir Fae prensesi, sÄ±kÄ±cÄ± soyluluk kurallarÄ±ndan daha fazlasÄ±nÄ± arzular. Ä°syanÄ±, ipek elbisesini parÃ§alamasÄ±yla baÅŸlar ve onu, kendi kurallarÄ±nÄ± kendi koyduÄŸu kaotik kutlamalarÄ±n ve vahÅŸi Ã¶zgÃ¼rlÃ¼ÄŸÃ¼n kraliÃ§esi yapar.', star: 1, imageUrl: 'https://i.ibb.co/cK8m4bMJ/peri1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/ZpgB5cjG/peri2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/jZbTFb9v/peri3.jpg' }] },
            { id: 'simyaci', name: 'SimyacÄ±', description: 'Kimyasal sÄ±rlarÄ±n ve elementlerin bilgini, iksirler ve dÃ¶nÃ¼ÅŸÃ¼mlerle hem ÅŸifa hem de yÄ±kÄ±m yaratabilen, zeki ve deneysel bir bilim insanÄ±.', star: 1, imageUrl: 'https://i.ibb.co/0pg4Vrh0/simyac-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/N65VzdkH/simyac-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/9387YgZf/simyac-3.jpg' }] },{ id: 'kedikadin', name: 'Kedi KadÄ±n', description: 'OrmanlarÄ±n en derinlerinde gizlenen, hem av hem de avcÄ± olan bu figÃ¼r, kedi Ã§evikliÄŸi ve yÄ±rtÄ±cÄ± iÃ§gÃ¼dÃ¼leriyle doÄŸanÄ±n dengesini korur.', star: 1, imageUrl: 'https://i.ibb.co/zWTLhSR7/kedi1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/qYxVScfn/kedi2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/LdYJX6Hd/kedi3.jpg' }] },
            { id: 'kuskadin', name: 'KuÅŸ KadÄ±n', description: 'GÃ¶kyÃ¼zÃ¼nÃ¼n engin maviliklerinde Ã¶zgÃ¼rlÃ¼ÄŸÃ¼nÃ¼ bulan, rÃ¼zgarlarla sohbet eden bu hava varlÄ±ÄŸÄ±, kanatlarÄ±nÄ± sadece uÃ§mak iÃ§in deÄŸil, aynÄ± zamanda insan ruhuna ilham vermek iÃ§in kullanÄ±r. Her sÃ¼zÃ¼lÃ¼ÅŸÃ¼nde, Ã¶zgÃ¼rlÃ¼ÄŸÃ¼n ve hafifliÄŸin bir fÄ±sÄ±ltÄ±sÄ±nÄ± taÅŸÄ±r.', star: 1, imageUrl: 'https://i.ibb.co/RGWyqqQr/ku-1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/jkhsNMbx/ku-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/0j0d4xNb/ku-3.jpg' }] },
            { id: 'vampir', name: 'Vampir', description: 'SÄ±cak ten rengine sahip bu kahverengi saÃ§lÄ± savaÅŸÃ§Ä±, atletik ve gÃ¶steriÅŸli vÃ¼cudunu vurgulayan zÄ±rhÄ±yla meydan okurcasÄ±na durur.', star: 1, imageUrl: 'https://i.ibb.co/6JHHhJw6/vampir1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/tP8fxr6C/vampir2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/RMh7SNB/vampir3.jpg' }] },{ id: 'paraliasker', name: 'ParalÄ± Asker', description: 'SavaÅŸa korkak bir acemi olarak baÅŸladÄ±, dÃ¶ktÃ¼ÄŸÃ¼ kan ve kazandÄ±ÄŸÄ± yaralarla Ã§elikleÅŸerek korkusuz bir paralÄ± asker liderine dÃ¶nÃ¼ÅŸtÃ¼. Onun gÃ¼cÃ¼ bÃ¼yÃ¼de deÄŸil, sarsÄ±lmaz iradesinde ve bÃ¼kÃ¼lmez kÄ±lÄ±cÄ±ndadÄ±r.', star: 1, imageUrl: 'https://i.ibb.co/0g5P99T/asker1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/23RBCVzG/asker2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/8QkMRtg/asker3.jpg' }] },
            { id: 'mekanik', name: 'Mekanik', description: 'DiÅŸlilerin ve buharÄ±n arasÄ±nda bÃ¼yÃ¼mÃ¼ÅŸ, dehasÄ± parmaklarÄ±nÄ±n ucundaki yaÄŸ lekelerinde gizli olan bir teknisyendir. Her yeni icadÄ±yla, makineye olan tutkusu onu biraz daha metal, biraz daha az insan yapar.', star: 1, imageUrl: 'https://i.ibb.co/d0wmWp3M/mekanik1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/nsM8qXrZ/mekanik2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/jkCct99V/mekanik3.jpg' }] },
            { id: 'saman', name: 'Åaman', description: 'Ruhlar aleminin fÄ±sÄ±ltÄ±larÄ±nÄ± dinleyen ve doÄŸanÄ±n kadim gÃ¼cÃ¼ne hÃ¼kmeden bir arabulucudur. YolculuÄŸu onu sakin bir bilgelikten, sayÄ±sÄ±z ruhu yÃ¶neten huÅŸu uyandÄ±ran bir gÃ¼ce taÅŸÄ±r.', star: 1, imageUrl: 'https://i.ibb.co/jZQjdxGr/aman1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/6cw94xmS/aman2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/Z6qgBHf6/aman3.jpg' }] },
            { id: 'cariye', name: 'Cariye', description: 'SarayÄ±n gÃ¶lgelerinde, masum bir tomurcuk olarak aÃ§an bu zarif Ã§iÃ§ek, geliÅŸtikÃ§e en gÃ¼Ã§lÃ¼ adamlarÄ± bile parmaÄŸÄ±nda oynatan, karÅŸÄ± konulmaz bir Oirana dÃ¶nÃ¼ÅŸÃ¼r. Onun sanatÄ±, sadece gÃ¼zelliÄŸi deÄŸil, aynÄ± zamanda arzuyla Ã¶rÃ¼lmÃ¼ÅŸ bir iktidar oyunudur.', star: 1, imageUrl: 'https://i.ibb.co/jPv4b80h/indir-3.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/KcvSFBTT/indir-2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/5xrxPvxB/indir-4.jpg' }] },
            { id: 'hirsiz', name: 'HÄ±rsÄ±z', description: 'YeraltÄ±nÄ±n karanlÄ±k dehlizlerinden gelen bu Drow, sessiz bir gÃ¶lge olarak baÅŸladÄ±ÄŸÄ± yolculuÄŸunu, tanrÄ±larÄ±n bile hazinelerini Ã§alan efsanevi bir usta hÄ±rsÄ±z olarak tamamlar. Onun iÃ§in her kilit bir davet, her tuzak ise bir danstÄ±r.', star: 1, imageUrl: 'https://i.ibb.co/zhrYb4dp/indir-13.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/YYJ1jqj/indir-15.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/5mvbTxC/indir-20.jpg' }] },
            { id: 'goblin', name: 'Goblin', description: 'MaÄŸarasÄ±nÄ±n karanlÄ±ÄŸÄ±ndan korkan Ã¼rkek bir varlÄ±kken, kazandÄ±ÄŸÄ± her savaÅŸla daha da vahÅŸileÅŸip zekileÅŸerek, tÃ¼m goblin kabilelerini birleÅŸtiren acÄ±masÄ±z bir lidere dÃ¶nÃ¼ÅŸtÃ¼. O, halkÄ±nÄ±n hem en bÃ¼yÃ¼k umudu hem de dÃ¼ÅŸmanlarÄ±nÄ±n en bÃ¼yÃ¼k korkusudur.', star: 1, imageUrl: 'https://i.ibb.co/xtkzsqPM/goblin1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/YxHLGHt/goblin2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/LhHYGgWw/goblin3.jpg' }] },
                { id: 'gokkusagiperisi', name: 'GÃ¶kkuÅŸaÄŸÄ± Perisi', description: 'O, neÅŸenin ve rengin vÃ¼cut bulmuÅŸ halidir, varlÄ±ÄŸÄ±yla en kasvetli diyarlara bile Ä±ÅŸÄ±k getiren bir peri. Ama o masum gÃ¼lÃ¼msemenin altÄ±nda, gÃ¶kkuÅŸaÄŸÄ±nÄ± bile bir silah olarak kullanabilen, evrensel bir gÃ¼Ã§ yatar.', star: 1, imageUrl: 'https://i.ibb.co/tTgmjpZp/peri1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/Mkyk5X8r/peri2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/ksHpyWSz/peri3.jpg' }] },
            { id: 'dusmusmelek', name: 'DÃ¼ÅŸmÃ¼ÅŸ Melek', description: 'Bir zamanlar cennetin en parlak yÄ±ldÄ±zÄ±ydÄ±, ÅŸimdi ise kendi karanlÄ±k krallÄ±ÄŸÄ±nÄ± kuran sÃ¼rgÃ¼n bir kraliÃ§e. KÄ±rÄ±k kanatlarÄ±, kaybettiÄŸi masumiyetin deÄŸil, kazandÄ±ÄŸÄ± acÄ±masÄ±z gÃ¼cÃ¼n simgesidir.', star: 1, imageUrl: 'https://i.ibb.co/0pWnGZY4/dusmus1.jpg', 
                evolutions: [{ star: 2, imageUrl: 'https://i.ibb.co/Jj3z5PDk/dusmus2.jpg' }, { star: 3, imageUrl: 'https://i.ibb.co/TBjMxjHX/dusmus3.jpg' }] },
            // YENÄ° KARAKTERLER BURAYA ======================= 
            // YENÄ° KARAKTER TEMPLATESÄ°:   { id: 'id', name: 'Ä°sim', description: 'AÃ§Ä±klama', star: 1, imageUrl: 'resim1', evolutions: [{ star: 2, imageUrl: 'resim2' }, { star: 3, imageUrl: 'resim3' }] },
            // FÃœZYON KARAKTERLERÄ°
            { id: 'cadÄ±', name: 'CadÄ±', description: 'Hem karanlÄ±ÄŸÄ±n mistik bilgeliÄŸini hem de kutsal Ä±ÅŸÄ±ÄŸÄ±n gÃ¼cÃ¼nÃ¼ barÄ±ndÄ±ran bu melez bÃ¼yÃ¼-rahibe, her adÄ±mÄ±yla kadim bir dengeyi ve sÄ±nÄ±rsÄ±z bir potansiyeli temsil eder.', star: 4, imageUrl: 'https://i.ibb.co/HfmJN43L/kaos-cad-s.jpg', isFusion: true, fusionPartners: ['buyucu', 'rahibe'] },
            { id: 'kozmik-dansci', name: 'Kozmik DansÃ§Ä±', description: 'YÄ±ldÄ±zlarÄ±n ritmiyle evreni adÄ±mlayan bu gÃ¶ksel dansÃ§Ä±, kehanetin fÄ±sÄ±ltÄ±larÄ±yla dans ederken kozmik enerjiyi zarafetle ÅŸekillendirir.', star: 4, imageUrl: 'https://i.ibb.co/whpyGMMQ/kozmik-yolcu.jpg', isFusion: true, fusionPartners: ['dansoz', 'falci'] },
            { id: 'siren', name: 'BatÄ±k Hazine', description: 'Derin denizlerin baÅŸtan Ã§Ä±karÄ±cÄ± ÅŸarkÄ±sÄ±yla korsanlarÄ±n cÃ¼retkar ruhunu birleÅŸtiren bu siren, dalgalardan yÃ¼kselerek hem cazibeyi hem de tehlikeyi Ã§aÄŸÄ±rÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/Pvg53HMY/merge-video-1753634899103.gif', isFusion: true, fusionPartners: ['dansoz', 'korsan'] },
            { id: 'valkur', name: 'ValkÃ¼r', description: 'GÃ¶ksel bir savaÅŸ narasÄ±yla ilahi gÃ¼cÃ¼ harmanlayan bu ValkÃ¼r, kutsal bir gazapla savaÅŸ meydanÄ±na inen, hem koruyucu hem de yÄ±kÄ±cÄ± bir melektir.', star: 4, imageUrl: 'https://i.ibb.co/cXbXcnqf/valk-r.jpg', isFusion: true, fusionPartners: ['rahibe', 'savasci'] },
            { id: 'kahin', name: 'Kader Ã–rÃ¼cÃ¼', description: 'GÃ¶lgelerin bilgeliÄŸiyle geleceÄŸin sÄ±rlarÄ±nÄ± Ã§Ã¶zene bu ninja-falcÄ±, kadim kehanetleri Ã¶lÃ¼mcÃ¼l bir zarafetle birleÅŸtirerek kaderin iplerini elinde tutar.', star: 4, imageUrl: 'https://i.ibb.co/DfJFYb15/1753596921039.gif', isFusion: true, fusionPartners: ['falci', 'ninja'] },
            { id: 'avci', name: 'AvcÄ±', description: 'BÃ¼yÃ¼lÃ¼ oklarla hedefini avlayan bu karanlÄ±k ormanlarÄ±n kÄ±zÄ±, hem avcÄ±nÄ±n keskin iÃ§gÃ¼dÃ¼sÃ¼ne hem de bÃ¼yÃ¼cÃ¼nÃ¼n kadim kudretine sahiptir.', star: 4, imageUrl: 'https://i.ibb.co/YTT1Y36M/mistik-avc.jpg', isFusion: true, fusionPartners: ['buyucu', 'okcu'] },
            { id: 'nisanci', name: 'Filo AvcÄ±sÄ±', description: 'FÄ±rtÄ±nalÄ± denizlerin ve isabetli oklarÄ±n ustasÄ± olan bu deniz gezgini, azgÄ±n dalgalarÄ±n Ã¼zerinde Ã¶lÃ¼mcÃ¼l bir hassasiyetle hedeflerini bulur.', star: 4, imageUrl: 'https://i.ibb.co/JP6NJHk/1753843652372.gif', isFusion: true, fusionPartners: ['korsan', 'okcu'] },
            { id: 'suvari', name: 'SÃ¼vari', description: 'SavaÅŸÄ± ve keÅŸfi tek bir ruhta birleÅŸtiren bu sÃ¼vari, kudretli bineÄŸiyle efsaneler yazarken, bilgi ve gÃ¼cÃ¼n Ã§arpÄ±cÄ± bir sembolÃ¼dÃ¼r.', star: 4, imageUrl: 'https://i.ibb.co/fY8N7sqL/s-vari.jpg', isFusion: true, fusionPartners: ['izci', 'savasci'] },
            { id: 'kadim-buyucu', name: 'Kadim BÃ¼yÃ¼cÃ¼', description: 'Elemental gÃ¼Ã§lerin tanrÄ±Ã§asÄ± olan bu kadim varlÄ±k, hem yakan ateÅŸi hem de dondurucu buzu bedeninde barÄ±ndÄ±rarak evrenin kendisiyle yankÄ±lanÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/vgNxdtD/kadim.jpg', isFusion: true, fusionPartners: ['atesbuyucusu', 'buzbuyucusu'] },
            { id: 'cehennem-dalgasi', name: 'Cehennem DalgasÄ±', 'description': 'Alevlerin ve okyanuslarÄ±n hÃ¼kÃ¼mdarÄ± olan bu korsan bÃ¼yÃ¼cÃ¼, lav denizlerinde yelken aÃ§arken cehennemi gÃ¼cÃ¼ ve dizginlenemez Ã¶zgÃ¼rlÃ¼ÄŸÃ¼ temsil eder.', star: 4, imageUrl: 'https://i.ibb.co/r2F8Wcw6/Ate-Efektli-Karakter-Videosu.gif', isFusion: true, fusionPartners: ['atesbuyucusu', 'korsan'] },
            { id: 'ruh-cagiran', name: 'Ruh Ã‡aÄŸÄ±ran', description: 'Perde aralÄ±ÄŸÄ±nÄ± aÅŸarak ruhlarla konuÅŸan bu psiÅŸik varlÄ±k, Ã¶teki dÃ¼nyanÄ±n fÄ±sÄ±ltÄ±larÄ±nÄ± taÅŸÄ±yan ve fÄ±sÄ±ltÄ±larla dÃ¼nyalar arasÄ±nda kÃ¶prÃ¼ kuran kadim bir medyumdur.', star: 4, imageUrl: 'https://i.ibb.co/hxHC8XBm/ruh.jpg', isFusion: true, fusionPartners: ['falci', 'hayalet'] },
            { id: 'ruh-avcisi', name: 'Ruh AvcÄ±sÄ±', description: 'SavaÅŸÄ±n kaosunda ruhlarÄ± avlayan bu melez, yÄ±kÄ±mÄ±n ortasÄ±nda hem ilahi bir gÃ¼zellik hem de doyumsuz bir kudret sergiler.', star: 4, imageUrl: 'https://i.ibb.co/MDbNYwmV/indir-6.jpg', isFusion: true, fusionPartners: ['hayalet', 'silahsor'] },
            { id: 'keskin-nisanci', name: 'Keskin NiÅŸancÄ±', description: 'Hedefini kusursuz bir hassasiyetle vuran bu keskin niÅŸancÄ±, savaÅŸÃ§Ä±nÄ±n gÃ¼cÃ¼nÃ¼ ve niÅŸancÄ±nÄ±n zarafetini birleÅŸtirerek her atÄ±ÅŸÄ±nda Ã¶lÃ¼mcÃ¼l bir cazibe saÃ§ar.', star: 4, imageUrl: 'https://i.ibb.co/fzGxn263/indir-9.jpg', isFusion: true, fusionPartners: ['okcu', 'silahsor'] },
            { id: 'olumsuz-muhafiz', name: 'Ã–lÃ¼msÃ¼z MuhafÄ±z', description: 'Bir savaÅŸÃ§Ä±nÄ±n Ã¶lmeyi reddeden ruhu, unuttuÄŸu bir yemine sadakatle baÄŸlÄ± kalarak ebedi bir mezarÄ±n baÅŸÄ±nda nÃ¶bet tutar. O, ne yaÅŸayanlarÄ±n ne de Ã¶lÃ¼lerin dÃ¼nyasÄ±na aittir.', star: 4, imageUrl: 'https://i.ibb.co/F4Z1pMBv/l-ms-z.jpg', isFusion: true, fusionPartners: ['hayalet', 'savasci'] },
            { id: 'donmus-kalp', name: 'DonmuÅŸ Kalp', description: 'Bir zamanlar en sÄ±cak tutkuyla yanan kalbi, ÅŸimdi dokunuÅŸuyla her ÅŸeyi donduran bir buz kÃ¼tlesidir. Sana unuttuÄŸu sÄ±caklÄ±ÄŸÄ± vaat eder, ancak Ã¶pÃ¼cÃ¼ÄŸÃ¼ ruhunu ebedi bir kÄ±ÅŸa hapseder.', star: 4, imageUrl: 'https://i.ibb.co/p6x1XVF6/donuk-kalp.jpg', isFusion: true, fusionPartners: ['buzbuyucusu', 'cazibe'] },
            { id: 'yasak-meyve', name: 'Yasak Meyve', description: 'Seni kendi cennet bahÃ§esine davet eder, ancak o bahÃ§edeki en gÃ¼zel Ã§iÃ§ekler en zehirli olanlardÄ±r. Onun sunduÄŸu yasak meyveyi tadan, ruhunu sonsuza dek kaybeder.', star: 4, imageUrl: 'https://i.ibb.co/C5YtZyzm/yasak-elma.jpg', isFusion: true, fusionPartners: ['cazibe', 'ormanruhu'] },
            { id: 'serap-kilici', name: 'Serap KÄ±lÄ±cÄ±', description: 'Ã‡Ã¶lÃ¼n ortasÄ±nda parlayan bir serap gibi, o hem bir yanÄ±lsama hem de Ã¶lÃ¼mcÃ¼l bir gerÃ§ektir. Rakiplerini zihinlerini bulandÄ±ran gÃ¶lge oyunlarÄ±yla tuzaÄŸa dÃ¼ÅŸÃ¼rÃ¼r ve tam nerede olduÄŸunu anladÄ±klarÄ±nda, derviÅŸin pala dansÄ± Ã§oktan baÅŸlamÄ±ÅŸtÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/BK3rG036/serap.jpg', isFusion: true, fusionPartners: ['dervis', 'illuzyonist'] },
            { id: 'hayalet-kanat', name: 'Hayalet Kanat', description: 'GÃ¶kyÃ¼zÃ¼nde sÃ¼zÃ¼len bir gÃ¶lgeden farksÄ±z olan Hayalet Kanat, hem avÄ±nÄ±n adÄ±mlarÄ±nÄ± hem de ruhunun fÄ±sÄ±ltÄ±larÄ±nÄ± duyar. O, ne zaman gerÃ§ek bir ÅŸahin ne zaman Ã¶lÃ¼mcÃ¼l bir ilÃ¼zyon olduÄŸu asla bilinmeyen, gÃ¶kyÃ¼zÃ¼nÃ¼n en tehlikeli sÄ±rrÄ±dÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/fdnf9Hg9/g-lge.jpg', isFusion: true, fusionPartners: ['illuzyonist', 'sahinci'] },
            { id: 'asi-kralice', name: 'Asi KraliÃ§e', description: 'AltÄ±n kafesini parÃ§alayan bir prensesin isyanÄ± ile bir savaÅŸÃ§Ä±nÄ±n sarsÄ±lmaz gÃ¼cÃ¼ onda birleÅŸti.', star: 4, imageUrl: 'https://i.ibb.co/NgWyfWv2/krali-e.jpg', isFusion: true, fusionPartners: ['prenses', 'savasci'] },
            { id: 'sehvet-perisi', name: 'Åehvet Perisi', description: 'Bir Fae prensesinin masumiyetini bir Succubusun gÃ¼nahkar vaatleriyle birleÅŸtiren Åehvet Perisi, dokunuÅŸuyla en saf kalpleri bile yoldan Ã§Ä±karÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/yB005D9y/sehvet.jpg', isFusion: true, fusionPartners: ['cazibe', 'prenses'] },
            { id: 'ask-iksiri', name: 'AÅŸk Ä°ksiri', description: 'Kimyasal bilgiyle baÅŸtan Ã§Ä±karÄ±cÄ±lÄ±ÄŸÄ± birleÅŸtiren, arzu ve tehlikenin vÃ¼cut bulmuÅŸ hali, yasak zevklerin kraliÃ§esi.', star: 4, imageUrl: 'https://i.ibb.co/5hFJqdHR/indir-1-8.jpg', isFusion: true, fusionPartners: ['cazibe', 'simyaci'] },
            { id: 'zehir-tuccari', name: 'Zehir TÃ¼ccarÄ±', description: 'GÃ¶lgelerde gizlenen, hem zehirlerini hem de Ã¶lÃ¼mcÃ¼l cazibesini ustaca kullanan, karanlÄ±k pazarÄ±n sessiz ve tehlikeli kraliÃ§esi.', star: 4, imageUrl: 'https://i.ibb.co/ZRSbLd0r/zehir.jpg', isFusion: true, fusionPartners: ['ninja', 'simyaci'] },
            { id: 'golge-buyucu', name: 'GÃ¶lge BÃ¼yÃ¼cÃ¼', description: 'Kadim bÃ¼yÃ¼leri gÃ¶lgelerle harmanlayan, illÃ¼zyonlar ve sessiz suikast yetenekleriyle dÃ¼ÅŸmanlarÄ±nÄ± avlayan, gizemli ve Ã¶lÃ¼mcÃ¼l bir bÃ¼yÃ¼ ustasÄ±.', star: 4, imageUrl: 'https://i.ibb.co/9k7NkHvb/Efektli-Oyun-Karakteri-Videosu-Haz-r.gif', isFusion: true, fusionPartners: ['buyucu', 'ninja'] },
            { id: 'golge-panteri', name: 'GÃ¶lge Panteri', description: 'Ä°lkel iÃ§gÃ¼dÃ¼leriyle gÃ¶lgelerin sanatÄ±nÄ± birleÅŸtiren bu nihai avcÄ±, ormanlarÄ±n derinliklerinden yÃ¼kselir. Her pusuya yatÄ±ÅŸÄ±nda hem yÄ±rtÄ±cÄ± bir Panterin vahÅŸiliÄŸini hem de bir NinjanÄ±n sessiz Ã¶lÃ¼mcÃ¼llÃ¼ÄŸÃ¼nÃ¼ yansÄ±tÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/nq7PjzvP/golgepanteri.jpg', isFusion: true, fusionPartners: ['kedikadin', 'ninja'] },
            { id: 'olum-valsi', name: 'Ã–lÃ¼m Valsi', description: 'Ã‡Ã¶lÃ¼n ruhuyla ritmin gÃ¼cÃ¼nÃ¼ birleÅŸtiren, her adÄ±mÄ±yla hem kumlarÄ± hem de ruhlarÄ± dans ettiren Ã¶lÃ¼mcÃ¼l bir sanatÃ§Ä±. O sadece bir dansÃ§Ä± deÄŸil, aynÄ± zamanda hareketleriyle yaÅŸam ve Ã¶lÃ¼mÃ¼ dengeleyen, ebedi bir valstir.', star: 4, imageUrl: 'https://i.ibb.co/W4rh6MnB/l-mvalsi.jpg', isFusion: true, fusionPartners: ['dansoz', 'dervis'] },
            { id: 'anka-kusu', name: 'Anka Kusu', description: 'KÃ¼llerinden yeniden doÄŸuÅŸun ve dizginlenemez ateÅŸli gÃ¼cÃ¼n kutsal simgesi. O, gÃ¶kyÃ¼zÃ¼nde alevden kanatlarÄ±yla sÃ¼zÃ¼len, her bir tÃ¼yÃ¼nden yaÅŸam ve yÄ±kÄ±m saÃ§an, ilahi bir varlÄ±ktÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/ch7vsRSp/anka.jpg', isFusion: true, fusionPartners: ['atesbuyucusu', 'kuskadin'] },
            { id: 'yuce-melek', name: 'YÃ¼ce Melek', description: 'Ä°lahi yargÄ±nÄ±n ve korkutucu huzurun tecessÃ¼mÃ¼. GÃ¶ksel kanatlarÄ±yla adaleti yeryÃ¼zÃ¼ne indiren, hem ÅŸefkatli bir koruyucu hem de amansÄ±z bir cezalandÄ±rÄ±cÄ± olan, gÃ¶klerin kutsal habercisidir.', star: 4, imageUrl: 'https://i.ibb.co/sd5XfzyR/1753596990473.gif', isFusion: true, fusionPartners: ['kuskadin', 'rahibe'] },
            { id: 'kan-cicegi', name: 'Kan Ã‡iÃ§eÄŸi', description: 'Vampirin Ã¶lÃ¼msÃ¼z kanÄ±yla sulanmÄ±ÅŸ, Orman Ruhunun en nadide tohumundan filizlenmiÅŸ, hem cennet kadar gÃ¼zel hem de cehennem kadar tehlikeli bir Ã§iÃ§ektir. KurbanlarÄ±nÄ± baÅŸtan Ã§Ä±karÄ±cÄ± kokusuyla kendine Ã§eker ve onlarÄ±, kÃ¶klerinin sonsuza dek besleneceÄŸi tatlÄ± bir anÄ±ya dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.', star: 4, imageUrl: 'https://i.ibb.co/1f4kd5L1/kan.jpg', isFusion: true, fusionPartners: ['ormanruhu', 'vampir'] },
            { id: 'golem-efendisi', name: 'Golem Efendisi', description: 'Bir mekanigin yaratici dehasi ile bir illuzyonistin zihin kontrol gucu, bu komutanda birleÅŸti. O, savas alanina kendi adim atmaz; onun yerine, ruhunu ve iradesini bahsettigi devasa golemi, bir kukla ustasinin zarafetiyle yonetir.', star: 4, imageUrl: 'https://i.ibb.co/m561FTzp/1753596929882.gif', isFusion: true, fusionPartners: ['illuzyonist', 'mekanik'] },
            { id: 'yildirim-elcisi', name: 'YÄ±ldÄ±rÄ±m ElÃ§isi', description: 'Ä°zcinin topragin sirlarini bilen ayaklari ile Samanin gokyuzunun ofkesini cagiran sesi onda birleÅŸti. O, firtinanin gelisini haber degil, firtinanin ta kendisi olan, doganin ilkel gucunun elcisidir.', star: 4, imageUrl: 'https://i.ibb.co/jkVbq1Gj/indir-29.jpg', isFusion: true, fusionPartners: ['izci', 'saman'] },
            { id: 'oluler-dusesi', name: 'Ã–lÃ¼ler DÃ¼ÅŸesi', description: 'Bir vampirin olumsuz kaniyla muhurlenmis, en karanlik saman rituelerinin efendisidir. O, ruhlara sadece fisildamaz, onlara kanla hukumder ve mezarlarindan kaldirdigi sadik ordusuyla gecenin sessizligini bozar.', star: 4, imageUrl: 'https://i.ibb.co/Q3jDvRJd/merge-video-1753638876285.gif', isFusion: true, fusionPartners: ['saman', 'vampir'] },
            { id: 'meka-gladyator', name: 'Meka GladyatÃ¶r', description: 'Bir parali askerin sarsilmaz iradesi, bir mekanigin dahiyane zekasiyla birleÅŸtiginde, etle makinenin kusursuz bir uyumla dans ettigi bu durdurulamaz savasci dogdu. O, hem kendi bedeninin hem de dovustugu celigin mutlak efendisidir.', star: 4, imageUrl: 'https://i.ibb.co/wFpq0cLT/Efektli-Karakter-Videosu-Olu-turma.gif', isFusion: true, fusionPartners: ['mekanik', 'paraliasker'] },
            { id: 'dovus-kesisi', name: 'DÃ¶vÃ¼ÅŸ KeÅŸiÅŸi', description: 'O, ne bir dansci ne de sadece bir savasci; o, bedenini atalarinin savasci ruhlarina teslim eden, her adimi olumcul bir ritual olan bir saman. Dervisin durdurulamaz donusu, onun icin ruhlar alemine acilan bir kapidir.', star: 4, imageUrl: 'https://i.ibb.co/3yz8myZt/indir-33.jpg', isFusion: true, fusionPartners: ['dervis', 'saman'] },
            { id: 'kitsune', name: 'Kitsune', 'description': 'SarayÄ±n ipek yastÄ±klarÄ±nda uyuyan bir kedinin masumiyeti, dokuz kuyruklu bir Kitsunenin kadim kurnazlÄ±ÄŸÄ±yla birleÅŸti. O, hem en zarif Oiran hem de en vahÅŸi avcÄ±dÄ±r; mÄ±rlamasÄ± bir vaat, penÃ§eleri ise kaÃ§Ä±nÄ±lmaz bir sondur.', star: 4, imageUrl: 'https://i.ibb.co/fd4VXtN0/indir-8.jpg', isFusion: true, fusionPartners: ['cariye', 'kedikadin'] },
            { id: 'geysa', name: 'GeyÅŸa', description: 'Bir dansÃ§Ä±nÄ±n hipnotize edici ruhu, bir geyÅŸanÄ±n kusursuz sanatÄ±yla birleÅŸtiÄŸinde, her adÄ±mÄ± bir bÃ¼yÃ¼, her bakÄ±ÅŸÄ± bir vaat olan bu varlÄ±k doÄŸdu. O, sadece bir sanatÃ§Ä± deÄŸil, yaÅŸayan, nefes alan ve dokunuÅŸuyla hem zevk hem de tehlike vaat eden bir sanat eseridir.', star: 4, imageUrl: 'https://i.ibb.co/BKCNBRSg/1753843742945.gif', isFusion: true, fusionPartners: ['cariye', 'dansoz'] },
            { id: 'ucan-hollandali', name: 'UÃ§an HollandalÄ±', description: 'Bir korsanÄ±n kural tanÄ±maz ruhu, boÄŸularak Ã¶lmÃ¼ÅŸ bir hayaletin bitmeyen yasÄ±yla lanetlendiÄŸinde, Ã–lÃ¼ Denizlerin KaptanÄ± doÄŸdu. O, ne yaÅŸayanlarÄ±n limanlarÄ±na sÄ±ÄŸÄ±nabilen ne de Ã¶lÃ¼lerin huzuruna erebilen, hayalet gemisi ve boÄŸulmuÅŸ mÃ¼rettebatÄ±yla birlikte, sisli denizlerde sonsuz bir sefere mahkum edilmiÅŸtir.', star: 4, imageUrl: 'https://i.ibb.co/hx2cqJ9j/Karaktere-Efekt-Ekleme-Talebi-Cevab.gif', isFusion: true, fusionPartners: ['hayalet', 'korsan'] },
            { id: 'hazine-avcisi', name: 'Hazine AvcÄ±sÄ±', description: 'Bir izcinin bitmek bilmeyen merakÄ±, bir Drow hÄ±rsÄ±zÄ±nÄ±n gÃ¶lgelerdeki ustalÄ±ÄŸÄ±yla birleÅŸti. O, altÄ±n veya mÃ¼cevher peÅŸinde deÄŸil; o, tanrÄ±larÄ±n bile unuttuÄŸu, imkansÄ±z mahzenlerde saklanan en kadim sÄ±rlarÄ± ve kalÄ±ntÄ±larÄ± Ã§alan bir efsanedir.', star: 4, imageUrl: 'https://i.ibb.co/gMVTvL00/indir-21.jpg', isFusion: true, fusionPartners: ['hirsiz', 'izci'] },
            { id: 'cadi-doktor', name: 'CadÄ± Doktor', description: 'Bir ÅŸamanÄ±n ruhlara fÄ±sÄ±ldayan bilgeliÄŸi, bir goblinin bataklÄ±ktaki en nadir bitkiyi bulan kurnazlÄ±ÄŸÄ±yla birleÅŸti. O, hem en Ã¶lÃ¼mcÃ¼l zehirleri damÄ±tan hem de en kadim ruhlarÄ± Ã§aÄŸÄ±ran, bataklÄ±ÄŸÄ±n tekinsiz ve gÃ¼Ã§lÃ¼ kraliÃ§esidir.', star: 4, imageUrl: 'https://i.ibb.co/tp2LYfZg/B-y-Efektli-Karakter-Videosu-Olu-turma.gif', isFusion: true, fusionPartners: ['goblin', 'saman'] },
            { id: 'kucuk-berserker', name: 'KÃ¼Ã§Ã¼k Berserker', description: 'Bir paralÄ± askerin sarsÄ±lmaz cesareti, bir goblinin asla pes etmeyen, Ã§Ä±lgÄ±n inadÄ±yla birleÅŸti. O, savaÅŸ alanÄ±ndaki en kÃ¼Ã§Ã¼k gÃ¶lge olabilir, ama attÄ±ÄŸÄ± her zafer Ã§Ä±ÄŸlÄ±ÄŸÄ±, en devasa ordularÄ±n bile kalbine korku salmaya yeter.', star: 4, imageUrl: 'https://i.ibb.co/HTRsw2xs/indir-4.jpg', isFusion: true, fusionPartners: ['goblin', 'parali-asker'] },
            { id: 'kaos-perisi', name: 'Kaos Perisi', description: 'Bu fÃ¼zyon, bir prensesin isyankar ruhu ile bir gÃ¶kkuÅŸaÄŸÄ± perisinin saf neÅŸesinin en kontrolsÃ¼z halidir. O, bir kraliÃ§e deÄŸil; o, varlÄ±ÄŸÄ±yla etrafÄ±na kontrol edilemez bir neÅŸe, kahkaha ve rengarenk bir kaos yayan, yaÅŸayan bir festivaldir.', star: 4, imageUrl: 'https://i.ibb.co/fGr9vW5g/1753844042911.gif', isFusion: true, fusionPartners: ['gokkusagiperisi', 'prenses'] },
            { id: 'id', name: 'GÃ¼nahkar Serenad', description: 'DÃ¼ÅŸmÃ¼ÅŸ bir meleÄŸin trajik asilliÄŸi ile bir succubusun saf, karÅŸÄ± konulmaz ÅŸehveti birleÅŸti. O, hem cennetin kayÄ±p ilahisini hem de cehennemin en tatlÄ± gÃ¼nahÄ±nÄ± fÄ±sÄ±ldayan, yasak bir serenattÄ±r.', star: 4, imageUrl: 'https://i.ibb.co/WWs98BS1/vals.jpg', isFusion: true, fusionPartners: ['cazibe', 'gokkusagiperisi'] },
            // YENÄ° FÃœZYONLAR BURAYA =============================
            // YENÄ° FÃœZYON TEMPLATESÄ° { id: 'id', name: 'isim', description: 'aÃ§Ä±klama', star: 4, imageUrl: 'resim', isFusion: true, fusionPartners: ['id1', 'id2'] },
            
        ]; 
        
        const characterGrid = document.getElementById('character-grid');
        const filterButtons = {
            oneStar: document.getElementById('show-1-star-btn'),
            twoStar: document.getElementById('show-2-star-btn'),
            threeStar: document.getElementById('show-3-star-btn'),
            fusion: document.getElementById('show-fusion-btn'),
            all: document.getElementById('show-all-btn'),
        };
        const characterModal = {
            element: document.getElementById('character-modal'),
            content: document.getElementById('character-modal-content'),
            name: document.getElementById('modal-character-name'),
            description: document.getElementById('modal-character-description'),
            evolutions: document.getElementById('modal-evolutions'),
            fusionsContainer: document.getElementById('modal-fusions'),
            fusionList: document.getElementById('fusion-list'),
            prevBtn: document.getElementById('prev-char-btn'),
            nextBtn: document.getElementById('next-char-btn'),
            prevName: document.getElementById('prev-char-name'),
            nextName: document.getElementById('next-char-name'),
        };
        const fusionModal = {
            element: document.getElementById('fusion-modal'),
            content: document.getElementById('fusion-modal-content'),
            name: document.getElementById('modal-fusion-name'),
            description: document.getElementById('modal-fusion-description'),
            image: document.getElementById('modal-fusion-image'),
            imageContainer: document.getElementById('modal-fusion-image-container'),
            star: document.getElementById('modal-fusion-star'),
            leftChar: {
                image: document.getElementById('modal-fusion-left-char-image'),
                name: document.getElementById('modal-fusion-left-char-name'),
                starDisplay: document.getElementById('modal-fusion-left-char-star'), 
                container: document.getElementById('modal-fusion-left-char-image').parentElement
            },
            rightChar: {
                image: document.getElementById('modal-fusion-right-char-image'),
                name: document.getElementById('modal-fusion-right-char-name'),
                starDisplay: document.getElementById('modal-fusion-right-char-star'), 
                container: document.getElementById('modal-fusion-right-char-image').parentElement
            },
            prevBtn: document.getElementById('prev-fusion-btn'),
            nextBtn: document.getElementById('next-fusion-btn'),
            prevName: document.getElementById('prev-fusion-name'),
            nextName: document.getElementById('next-fusion-name'),
        };
        const enlargedImageOverlay = document.getElementById('enlarged-image-overlay');
        const enlargedImage = document.getElementById('enlarged-image');
        
        const searchModal = {
            element: document.getElementById('search-modal'),
            content: document.getElementById('search-modal-content'),
            input: document.getElementById('search-input'),
            resultsGrid: document.getElementById('search-results-grid'),
            openBtn: document.getElementById('open-search-modal-btn'),
        };
        
        const backToTopBtn = document.getElementById('back-to-top-btn');

        const zoomOutBtn = document.getElementById('zoom-out-btn');
        const zoomInBtn = document.getElementById('zoom-in-btn');
        const currentSizeLabel = document.getElementById('current-size-label');

        const fitToScreenToggleBtn = document.getElementById('fitToScreenToggleBtn'); 
        const columnsSliderContainer = document.getElementById('columns-slider-container');
        const columnCountSlider = document.getElementById('column-count-slider');
        const columnCountValue = document.getElementById('column-count-value');

        let galleryMode = 'all';
        let imageSizeIndex = 3; 
        let isFitToScreenMode = true; 
        let dynamicColumnCount = 4; 

        let currentModalCharId = null;
        let currentModalType = null; 
        let uniqueNavigableList = [];

        let sizeProfiles = [
            { name: '1', minCardWidth: '160px', maxCardWidth: '180px', evolutionBox: 'w-56 h-auto', fusionThumb: 'w-40 h-auto', fusionPartner: 'w-64 h-auto', fusionMainMaxH: 'max-h-96', fusionMainImageWidth: 'w-64' },
            { name: '2', minCardWidth: '200px', maxCardWidth: '220px', evolutionBox: 'w-64 h-auto', fusionThumb: 'w-44 h-auto', fusionPartner: 'w-72 h-auto', fusionMainMaxH: 'max-h-[28rem]', fusionMainImageWidth: 'w-72' },
            { name: '3', minCardWidth: '240px', maxCardWidth: '260px', evolutionBox: 'w-72 h-auto', fusionThumb: 'w-48 h-auto', fusionPartner: 'w-80 h-auto', fusionMainMaxH: 'max-h-[32rem]', fusionMainImageWidth: 'w-80' },
            { name: '4', minCardWidth: '280px', maxCardWidth: '300px', evolutionBox: 'w-80 h-auto', fusionThumb: 'w-56 h-auto', fusionPartner: 'w-96 h-auto', fusionMainMaxH: 'max-h-[36rem]', fusionMainImageWidth: 'w-96' },
            { name: '5', minCardWidth: '320px', maxCardWidth: '340px', evolutionBox: 'w-96 h-auto', fusionThumb: 'w-64 h-auto', fusionPartner: 'w-[28rem] h-auto', fusionMainMaxH: 'max-h-[40rem]', fusionMainImageWidth: 'w-[26rem]' }
        ];

        function getStarEmojis(starCount, applyGlow = false) { 
            const colors = { 
                1: 'text-orange-400', 
                2: 'text-gray-400', 
                3: 'text-yellow-400', 
                4: FUSION_STAR_COLOR_CLASS 
            };
            const glowClass = applyGlow ? 'glow-text-purple-animated' : ''; 
            return Array(starCount).fill(`<span class="${colors[starCount]} text-2xl ${glowClass}">â˜…</span>`).join('');
        }

        function getCharacterImageUrlByStar(baseCharId, star) {
            const baseChar = characters.find(c => c.id === baseCharId && !c.isFusion);
            if (!baseChar) return '';
            if (star === 1) return baseChar.imageUrl;
            const evolution = baseChar.evolutions.find(e => e.star === star);
            return evolution ? evolution.imageUrl : '';
        }

        function get3StarImageUrl(baseCharId) {
            const baseChar = characters.find(c => c.id === baseCharId && !c.isFusion);
            if (!baseChar) return '';
            const threeStarEvo = baseChar.evolutions.find(e => e.star === 3);
            return threeStarEvo ? threeStarEvo.imageUrl : '';
        }

        function renderCharacters() {
            characterGrid.innerHTML = '';
            
            if (isFitToScreenMode) {
                characterGrid.style.setProperty('--grid-min-card-width', '0'); 
                characterGrid.style.setProperty('--grid-max-card-width', '1fr'); 
                characterGrid.style.gridTemplateColumns = `repeat(${dynamicColumnCount}, minmax(0, 1fr))`;
            } else {
                characterGrid.style.setProperty('--grid-min-card-width', sizeProfiles[imageSizeIndex].minCardWidth);
                characterGrid.style.setProperty('--grid-max-card-width', sizeProfiles[imageSizeIndex].maxCardWidth);
                characterGrid.style.gridTemplateColumns = `repeat(auto-fit, minmax(var(--grid-min-card-width), var(--grid-max-card-width)))`;
            }

            let allDisplayableCharacters = [];
            let currentUniqueNavigableList = [];

            if (galleryMode === 'fusion') {
                allDisplayableCharacters = characters.filter(char => char.isFusion)
                    .map(char => ({...char, displayStar: char.star, displayImageUrl: char.imageUrl}));
            } else if (galleryMode === 'all') {
                characters.forEach(char => {
                    if (!char.isFusion) { 
                        allDisplayableCharacters.push({ ...char, displayStar: 1, displayImageUrl: char.imageUrl }); 
                        if (char.evolutions) {
                            char.evolutions.forEach(evo => {
                                allDisplayableCharacters.push({ ...char, displayStar: evo.star, displayImageUrl: evo.imageUrl }); 
                            });
                        }
                    } 
                });
                allDisplayableCharacters = allDisplayableCharacters.concat(characters.filter(char => char.isFusion).map(char => ({...char, displayStar: 4, displayImageUrl: char.imageUrl})));

            } else { 
                allDisplayableCharacters = characters.filter(char => !char.isFusion && char.star === 1).flatMap(char => {
                    if (galleryMode === '1-star') {
                        return [{ ...char, displayStar: 1, displayImageUrl: char.imageUrl }];
                    } else if (galleryMode === '2-star') {
                        const evo2 = char.evolutions.find(e => e.star === 2);
                        return evo2 ? [{ ...char, displayStar: 2, displayImageUrl: evo2.imageUrl }] : [];
                    } else if (galleryMode === '3-star') {
                        const evo3 = char.evolutions.find(e => e.star === 3);
                        return evo3 ? [{ ...char, displayStar: 3, displayImageUrl: evo3.imageUrl }] : [];
                    }
                    return [];
                });
            }
            
            allDisplayableCharacters.sort((a, b) => {
                if (!a.isFusion && b.isFusion) return -1;
                if (a.isFusion && !b.isFusion) return 1;
                const nameCompare = a.name.localeCompare(b.name, 'tr');
                if (nameCompare !== 0) return nameCompare;
                return a.displayStar - b.displayStar;
            });

            currentUniqueNavigableList = [];
            const processedBaseCharIds = new Set();
            characters.forEach(char => {
                if (!char.isFusion && !processedBaseCharIds.has(char.id)) {
                    currentUniqueNavigableList.push({ ...char, displayStar: 1 });
                    processedBaseCharIds.add(char.id);
                } else if (char.isFusion) {
                    currentUniqueNavigableList.push(char);
                }
            });

            currentUniqueNavigableList.sort((a, b) => {
                if (!a.isFusion && b.isFusion) return -1;
                if (a.isFusion && !b.isFusion) return 1;
                return a.name.localeCompare(b.name, 'tr');
            });

            uniqueNavigableList = currentUniqueNavigableList;

            if (allDisplayableCharacters.length === 0) {
                characterGrid.innerHTML = '<p class="col-span-full text-center text-gray-400 text-lg">GÃ¶sterilecek karakter bulunamadÄ±.</p>';
                return;
            }

            allDisplayableCharacters.forEach(char => {
                const card = createCharacterCard(char, char.displayImageUrl, char.displayStar);
                characterGrid.appendChild(card);
            });
            updateFilterButtons();
        }

        function createCharacterCard(char, imageUrlToDisplay, starCountToDisplay) {
            const card = document.createElement('div');
            let borderColor = 'border-indigo-500';
            let glowClassForCard = '';
            
            if (char.isFusion) {
                borderColor = 'border-purple-500';
                glowClassForCard = 'glow-purple';
            } else if (starCountToDisplay === 2) {
                borderColor = 'border-gray-500';
            } else if (starCountToDisplay === 3) {
                borderColor = 'border-yellow-500';
            } else if (starCountToDisplay === 1) {
                borderColor = 'border-orange-400';
            }

            const nameClass = char.isFusion ? 'font-fusion' : '';

            card.className = `relative rounded-xl shadow-lg p-4 flex flex-col items-center justify-between cursor-pointer transform hover:scale-105 transition duration-300 ease-in-out border-b-4 ${borderColor} ${glowClassForCard}`;
            card.style.backgroundColor = char.isFusion ? FUSION_BACKGROUND_COLOR : '#4a5568';
            card.dataset.id = char.id;
            
            card.onclick = () => {
                if (char.isFusion) {
                    openFusionModal(char.id);
                } else {
                    openCharacterModal(char.id);
                }
                if (!searchModal.element.classList.contains('hidden')) {
                    closeSearchModal();
                }
            };

            const starsHtml = getStarEmojis(starCountToDisplay, char.isFusion);

            card.innerHTML = `
                <img src="${imageUrlToDisplay}" alt="${char.name}" class="character-card-image rounded-lg mb-3 shadow-sm" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/300x400/CCCCCC/000000?text=Resim+Yok';">
                <h3 class="text-xl font-semibold text-gray-100 mb-1 text-center character-name-ellipsis ${nameClass}">${char.name}</h3>
                <div class="flex">${starsHtml}</div>
            `;
            return card;
        }
        
        // DEÄÄ°ÅÄ°KLÄ°K: Yeni Arama SonuÃ§ KartÄ± OluÅŸturma Fonksiyonu
        function createSearchResultCard(item) {
            const card = document.createElement('div');
            card.className = 'bg-gray-800 rounded-lg shadow-lg p-3 flex items-center gap-4 cursor-pointer hover:bg-gray-700 transition-colors duration-200';
            
            card.onclick = () => {
                if (item.isFusion) {
                    openFusionModal(item.id);
                } else {
                    openCharacterModal(item.id);
                }
                closeSearchModal();
            };

            const starsHtml = getStarEmojis(item.star, item.isFusion);
            const nameClass = item.isFusion ? 'font-fusion' : '';

            card.innerHTML = `
                <div class="flex-shrink-0">
                    <img src="${item.imageUrl}" alt="${item.name}" class="w-24 h-24 object-cover rounded-md shadow-sm" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/100x100/CCCCCC/000000?text=...';">
                </div>
                <div class="flex-grow">
                    <h4 class="text-lg font-bold text-gray-100 ${nameClass}">${item.name}</h4>
                    <div class="my-1">${starsHtml}</div>
                    <p class="text-xs text-gray-400 font-mono">ID: ${item.id}</p>
                </div>
            `;
            return card;
        }

        function updateFilterButtons() {
            Object.entries(filterButtons).forEach(([key, button]) => {
                const modeMap = { oneStar: '1-star', twoStar: '2-star', threeStar: '3-star', fusion: 'fusion', all: 'all' };
                if (galleryMode === modeMap[key]) {
                    button.classList.add('bg-indigo-600', 'text-white');
                    button.classList.remove('bg-gray-700', 'text-gray-200');
                } else {
                    button.classList.remove('bg-indigo-600', 'text-white');
                    button.classList.add('bg-gray-700', 'text-gray-200');
                }
            });
        }
        
        function updateZoomControls() {
            currentSizeLabel.textContent = sizeProfiles[imageSizeIndex].name;
            zoomOutBtn.disabled = imageSizeIndex === 0;
            zoomInBtn.disabled = imageSizeIndex === sizeProfiles.length - 1;
        }

        Object.entries(filterButtons).forEach(([key, button]) => {
            const modeMap = { oneStar: '1-star', twoStar: '2-star', threeStar: '3-star', fusion: 'fusion', all: 'all' };
            button.addEventListener('click', () => {
                galleryMode = modeMap[key];
                renderCharacters();
            });
        });
        
        zoomInBtn.addEventListener('click', () => {
            if (imageSizeIndex < sizeProfiles.length - 1) {
                imageSizeIndex++;
                updateZoomControls();
                renderCharacters();
                // Arama sonuÃ§larÄ± artÄ±k etkilenmiyor, Ã§Ã¼nkÃ¼ kendi dÃ¼zeni var.
            }
        });

        zoomOutBtn.addEventListener('click', () => {
            if (imageSizeIndex > 0) {
                imageSizeIndex--;
                updateZoomControls();
                renderCharacters();
                // Arama sonuÃ§larÄ± artÄ±k etkilenmiyor, Ã§Ã¼nkÃ¼ kendi dÃ¼zeni var.
            }
        });

        function openModal(modalElement, contentElement) {
            modalElement.classList.remove('hidden');
            setTimeout(() => contentElement.classList.remove('scale-95', 'opacity-0'), 50);
        }

        function closeModal(modalElement, contentElement) {
            contentElement.classList.add('scale-95', 'opacity-0');
            setTimeout(() => modalElement.classList.add('hidden'), 300);
            currentModalCharId = null; 
            currentModalType = null;
        }

        function updateModalNavigation(id, type) {
            currentModalCharId = id;
            currentModalType = type;

            const listToNavigate = uniqueNavigableList;
            const currentIndex = listToNavigate.findIndex(item => item.id === id); 

            const prevItem = currentIndex > 0 ? listToNavigate[currentIndex - 1] : null;
            const nextItem = currentIndex < listToNavigate.length - 1 ? listToNavigate[currentIndex + 1] : null;

            const modalInfo = type === 'character' ? characterModal : fusionModal;
            
            const openNextOrPrev = (item) => {
                if (item.isFusion) { openFusionModal(item.id); } 
                else { openCharacterModal(item.id); }
            };

            const closeFunc = type === 'character' ? closeCharacterModal : closeFusionModal;
            
            if (prevItem) {
                const prevAction = (e) => {
                    e.stopPropagation();
                    closeFunc();
                    setTimeout(() => openNextOrPrev(prevItem), 300); 
                };
                modalInfo.prevBtn.disabled = false;
                modalInfo.prevName.textContent = prevItem.name;
                modalInfo.prevBtn.onclick = prevAction;
                modalInfo.prevName.onclick = prevAction;
                modalInfo.prevName.style.cursor = 'pointer';
            } else {
                modalInfo.prevBtn.disabled = true;
                modalInfo.prevName.textContent = 'Yok';
                modalInfo.prevBtn.onclick = null;
                modalInfo.prevName.onclick = null;
                modalInfo.prevName.style.cursor = 'default';
            }

            if (nextItem) {
                const nextAction = (e) => {
                    e.stopPropagation();
                    closeFunc();
                    setTimeout(() => openNextOrPrev(nextItem), 300);
                };
                modalInfo.nextBtn.disabled = false;
                modalInfo.nextName.textContent = nextItem.name;
                modalInfo.nextBtn.onclick = nextAction;
                modalInfo.nextName.onclick = nextAction;
                modalInfo.nextName.style.cursor = 'pointer';
            } else {
                modalInfo.nextBtn.disabled = true;
                modalInfo.nextName.textContent = 'Yok';
                modalInfo.nextBtn.onclick = null;
                modalInfo.nextName.onclick = null;
                modalInfo.nextName.style.cursor = 'default';
            }
        }

        function openCharacterModal(characterId) {
            const clickedChar = characters.find(c => c.id === characterId && !c.isFusion);
            if (!clickedChar) return; 

            characterModal.name.textContent = clickedChar.name;
            characterModal.description.textContent = clickedChar.description;
            characterModal.evolutions.innerHTML = '';
            
            const currentSize = sizeProfiles[imageSizeIndex];
            const evolutionImageBaseClass = `w-full h-auto object-contain rounded-lg mb-2 cursor-zoom-in`;
            const evolutionBoxClass = currentSize.evolutionBox;
            const allEvolutions = [{ star: 1, imageUrl: clickedChar.imageUrl, id: clickedChar.id }, ...(clickedChar.evolutions || [])];

            allEvolutions.forEach(evo => {
                const evoDiv = document.createElement('div');
                evoDiv.className = `flex flex-col items-center p-3 bg-gray-600 rounded-lg shadow-sm ${evolutionBoxClass}`;
                const imageUrl = getCharacterImageUrlByStar(clickedChar.id, evo.star);
                evoDiv.innerHTML = `
                    <img src="${imageUrl}" alt="${clickedChar.name} ${evo.star} YÄ±ldÄ±z" class="${evolutionImageBaseClass}" onclick="enlargeImage(this.src)" onerror="this.onerror=null;this.src='https://placehold.co/300x400/CCCCCC/000000?text=Resim+Yok;">
                    <p class="text-lg font-medium text-gray-200">${getStarEmojis(evo.star)}</p>
                `;
                characterModal.evolutions.appendChild(evoDiv);
            });

            characterModal.fusionList.innerHTML = '';
            const fusionsOfThisCharacter = characters.filter(fusion => 
                fusion.isFusion && fusion.fusionPartners && fusion.fusionPartners.includes(clickedChar.id)
            );

            if (fusionsOfThisCharacter.length > 0) {
                characterModal.fusionsContainer.classList.remove('hidden');
                fusionsOfThisCharacter.forEach(fusionChar => {
                    const fusionCard = document.createElement('div');
                    fusionCard.className = `rounded-lg shadow-md p-3 flex flex-col items-center cursor-pointer hover:opacity-80 transition duration-200 ${'glow-purple'}`; 
                    fusionCard.style.backgroundColor = FUSION_BACKGROUND_COLOR; 
                    fusionCard.onclick = (e) => { e.stopPropagation(); closeCharacterModal(); openFusionModal(fusionChar.id); };
                    const fusionThumbImageClass = `${currentSize.fusionThumb} object-cover rounded-lg mb-2 border-2 border-purple-400`;
                    fusionCard.innerHTML = `
                        <img src="${fusionChar.imageUrl}" alt="${fusionChar.name}" class="${fusionThumbImageClass} ${'glow-purple'}" onerror="this.onerror=null;this.src='https://placehold.co/150x150/CCCCCC/000000?text=Resim+Yok;">
                        <p class="text-md font-semibold text-gray-200 text-center font-fusion">${fusionChar.name}</p>
                    `;
                    characterModal.fusionList.appendChild(fusionCard);
                });
            } else {
                characterModal.fusionsContainer.classList.add('hidden');
            }

            openModal(characterModal.element, characterModal.content);
            updateModalNavigation(characterId, 'character'); 
        }

        function closeCharacterModal() { closeModal(characterModal.element, characterModal.content); }

        function openFusionModal(fusionId) {
            const fusionChar = characters.find(c => c.id === fusionId && c.isFusion);
            if (!fusionChar) return;
            
            const currentSize = sizeProfiles[imageSizeIndex];
            fusionModal.name.textContent = fusionChar.name;
            fusionModal.name.classList.add('font-fusion');
            fusionModal.description.textContent = fusionChar.description;
            fusionModal.image.src = fusionChar.imageUrl;
            fusionModal.image.alt = fusionChar.name;

            const fusionMainImageClass = `w-full h-auto object-contain rounded-lg shadow-md cursor-zoom-in ${currentSize.fusionMainMaxH}`;
            fusionModal.imageContainer.className = `flex flex-col items-center ${currentSize.fusionMainImageWidth}`;
            
            const fusionPartnerImageClass = `${currentSize.fusionPartner} object-contain rounded-lg border-4 border-indigo-500 shadow-md`;
            fusionModal.image.className = `${fusionMainImageClass} ${'glow-purple'}`;
            fusionModal.content.style.backgroundColor = FUSION_BACKGROUND_COLOR; 
            fusionModal.content.classList.add('fusion-modal-background-glow');
            const [partner1BaseId, partner2BaseId] = fusionChar.fusionPartners;
            const partner1BaseChar = characters.find(c => c.id === partner1BaseId && !c.isFusion);
            const partner2BaseChar = characters.find(c => c.id === partner2BaseId && !c.isFusion);

            if (partner1BaseChar) {
                const partner1ThreeStarImage = get3StarImageUrl(partner1BaseChar.id); 
                fusionModal.leftChar.image.src = partner1ThreeStarImage;
                fusionModal.leftChar.image.className = `${fusionPartnerImageClass} ${'glow-purple'}`; 
                fusionModal.leftChar.name.textContent = partner1BaseChar.name;
                fusionModal.leftChar.container.dataset.characterId = partner1BaseChar.id;
                fusionModal.leftChar.starDisplay.innerHTML = `<span class="text-lg font-medium ${THREE_STAR_COLOR_CLASS}">â˜…â˜…â˜…</span>`; 
            }
             if (partner2BaseChar) {
                const partner2ThreeStarImage = get3StarImageUrl(partner2BaseChar.id); 
                fusionModal.rightChar.image.src = partner2ThreeStarImage;
                fusionModal.rightChar.image.className = `${fusionPartnerImageClass} ${'glow-purple'}`; 
                fusionModal.rightChar.name.textContent = partner2BaseChar.name;
                fusionModal.rightChar.container.dataset.characterId = partner2BaseChar.id;
                fusionModal.rightChar.starDisplay.innerHTML = `<span class="text-lg font-medium ${THREE_STAR_COLOR_CLASS}">â˜…â˜…â˜…</span>`; 
            }

            fusionModal.star.innerHTML = `<span class="text-3xl ${FUSION_STAR_COLOR_CLASS} ${'glow-text-purple-animated'}">â˜…â˜…â˜…â˜…</span>`; 
            openModal(fusionModal.element, fusionModal.content);
            updateModalNavigation(fusionId, 'fusion'); 
        }

        function closeFusionModal() {
            fusionModal.name.classList.remove('font-fusion');
            fusionModal.content.classList.remove('fusion-modal-background-glow');
            closeModal(fusionModal.element, fusionModal.content);
        }

        function openSearchModal() {
            openModal(searchModal.element, searchModal.content);
            searchModal.input.value = '';
            searchModal.resultsGrid.innerHTML = '<p class="col-span-full text-center text-gray-400">Aramak iÃ§in bir karakter adÄ± veya ID\'si yazÄ±n.</p>';
            searchModal.input.focus();
        }

        function closeSearchModal() {
            closeModal(searchModal.element, searchModal.content);
        }
        
        function renderSearchResults() {
            const grid = searchModal.resultsGrid;
            grid.innerHTML = '';
            
            const searchTerm = searchModal.input.value.toLowerCase().trim();

            if (!searchTerm) {
                grid.innerHTML = '<p class="col-span-full text-center text-gray-400">Aramak iÃ§in bir karakter adÄ± veya ID\'si yazÄ±n.</p>';
                return;
            }

            const allSearchableItems = [];
            characters.forEach(char => {
                if(char.isFusion) {
                    allSearchableItems.push(char);
                } else {
                    allSearchableItems.push({ ...char, star: 1, imageUrl: char.imageUrl });
                    if (char.evolutions) {
                        char.evolutions.forEach(evo => {
                            allSearchableItems.push({ ...char, star: evo.star, imageUrl: evo.imageUrl });
                        });
                    }
                }
            });

            const foundItems = allSearchableItems.filter(item => 
                item.name.toLowerCase().includes(searchTerm) || 
                item.id.toLowerCase().includes(searchTerm)
            );

            if (foundItems.length === 0) {
                grid.innerHTML = '<p class="col-span-full text-center text-gray-400">Arama sonucu bulunamadÄ±.</p>';
                return;
            }

            foundItems.forEach(item => {
                const card = createSearchResultCard(item);
                grid.appendChild(card);
            });
        }
        
        searchModal.openBtn.addEventListener('click', openSearchModal);
        searchModal.input.addEventListener('input', renderSearchResults);


        function enlargeImage(src) {
            enlargedImage.src = src;
            enlargedImageOverlay.classList.remove('hidden');
        }

        function closeEnlargedImage(event) {
            if (event) event.stopPropagation();
            enlargedImageOverlay.classList.add('hidden');
        }

        fitToScreenToggleBtn.addEventListener('click', () => {
            isFitToScreenMode = !isFitToScreenMode; 
            
            if (isFitToScreenMode) {
                fitToScreenToggleBtn.classList.add('bg-indigo-600', 'text-white');
                fitToScreenToggleBtn.classList.remove('bg-gray-700', 'text-gray-200');
            } else {
                fitToScreenToggleBtn.classList.remove('bg-indigo-600', 'text-white');
                fitToScreenToggleBtn.classList.add('bg-gray-700', 'text-gray-200');
            }
            renderCharacters();
        });

        columnCountSlider.addEventListener('input', () => {
            dynamicColumnCount = columnCountSlider.value;
            columnCountValue.textContent = dynamicColumnCount;
            renderCharacters();
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.remove('opacity-0');
            } else {
                backToTopBtn.classList.add('opacity-0');
            }
        });

        window.onload = () => {
            if (isFitToScreenMode) {
                fitToScreenToggleBtn.classList.add('bg-indigo-600', 'text-white');
                fitToScreenToggleBtn.classList.remove('bg-gray-700', 'text-gray-200');
            } else {
                fitToScreenToggleBtn.classList.remove('bg-indigo-600', 'text-white');
                fitToScreenToggleBtn.classList.add('bg-gray-700', 'text-gray-200');
            }

            const tempCard = document.createElement('div');
            tempCard.style.width = sizeProfiles[imageSizeIndex].maxCardWidth; 
            tempCard.style.visibility = 'hidden';
            tempCard.style.position = 'absolute';
            characterGrid.appendChild(tempCard);
            const cardWidthPx = tempCard.offsetWidth;
            characterGrid.removeChild(tempCard);
            const gridContainerWidth = characterGrid.offsetWidth;
            const gapWidth = 24;
            let estimatedBaseCols = Math.floor((gridContainerWidth + gapWidth) / (cardWidthPx + gapWidth));
            estimatedBaseCols = Math.max(1, estimatedBaseCols);
            const minSliderValue = Math.max(2, Math.ceil(estimatedBaseCols * 1.5));
            const maxSliderValue = Math.max(minSliderValue, estimatedBaseCols * 2);
            columnCountSlider.min = Math.max(2, minSliderValue);
            columnCountSlider.max = Math.max(3, maxSliderValue);
            columnCountSlider.value = columnCountSlider.min;
            dynamicColumnCount = parseInt(columnCountSlider.value);
            columnCountValue.textContent = dynamicColumnCount;
            
            updateZoomControls(); 
            renderCharacters(); 
        };

    </script>
</body>
</html>
